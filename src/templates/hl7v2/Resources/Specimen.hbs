{
    "fullUrl":"urn:uuid:{{ID}}",
    "resource":{
        "resourceType": "Specimen",
        "id":"{{ID}}",
        "receivedTime":"{{formatAsDateTime OBR-14}}",
        "receivedTime":"{{formatAsDateTime SPM-18}}",
        "receivedTime":"{{formatAsDateTime OBR-13}}",
        "note":
        [
            {{#each (getFieldRepeats OBR-39)}}
            {{/each}}
        ],
        "identifier":
        [
            {
                {{>DataType/EIPIdentifier.hbs EIP=SPM-2}},
            },
            {{#each (getFieldRepeats SPM-3)}}
                { {{>DataType/EIPIdentifier.hbs EIP=this}} },
            {{/each}}
            {
                {{#each (getFieldRepeats SPM-31)}}
                    {{>DataType/CX.hbs CX=this}},
                {{/each}}
            },
            {
                {{>DataType/EIIdentifier.hbs EI=SPM-32}},
                "type":
                {
                    "coding":
                    [
                        {
                            {{#if SPM-32}},
                                "system":"http://terminology.hl7.org/CodeSystem/v2-0203",
                            {{/if}},
                        },
                    ],
                },
            },
        ],
        "type":
        {
            {{>DataType/CWECodeableConcept.hbs CWE=SPM-4}},
        },
        "container":
        [
            {
                "additiveCodeableConcept":
                {
                    {{#each (getFieldRepeats SPM-6)}}
                        {{>DataType/CWECodeableConcept.hbs CWE=this}},
                    {{/each}}
                },
                "type":
                {
                    {{>DataType/CWECodeableConcept.hbs CWE=SPM-27}},
                },
            },
        ],
        "collection":
        {
            "method":
            {
                {{>DataType/CWECodeableConcept.hbs CWE=SPM-7}},
            },
            "collectedPeriod":
            {
                {{#if SPM-17-2}},
                    {{>DataType/DR.hbs DR=SPM-17}},
                {{/if}},
            },
            {{#if (not SPM-17-2)}},
                "collectedDateTime":"{{formatAsDateTime SPM-17}}",
            {{/if}},
        },
        "status":{{>DataType/_string.hbs mapping="CodeSystem/SpecimenAvailability.hbs" inCode=SPM-20 }},
        "condition":
        [
            {{#each (getFieldRepeats SPM-24)}}
                { {{>DataType/CWECodeableConcept.hbs CWE=this}} },
            {{/each}}
        ],
        "accessionIdentifier":
        {
            {{#each (getFieldRepeats SPM-30)}}
                {{>DataType/CX.hbs CX=this}},
            {{/each}}
        },
    },
    "request":{
        "method":"PUT",
        "url":"Specimen/{{ID}}",
    },
},
